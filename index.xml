<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Data Scientist Hiroki&#39;s Blog</title>
    <link>https://dshiroki.com/</link>
    <description>Recent content on Data Scientist Hiroki&#39;s Blog</description>
    <generator>Hugo -- gohugo.io</generator>
    <lastBuildDate>Wed, 27 Dec 2023 23:50:43 +0900</lastBuildDate><atom:link href="https://dshiroki.com/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>1自由度振動運動方程式の状態空間表現(続)</title>
      <link>https://dshiroki.com/engineering/20231227/</link>
      <pubDate>Wed, 27 Dec 2023 23:50:43 +0900</pubDate>
      
      <guid>https://dshiroki.com/engineering/20231227/</guid>
      <description>1自由度振動運動方程式 こんにちは、データサイエンティストひろき🐶です。
前回こちらのブログで紹介した1自由度振動運動方程式を解くためのMatlabコード
もう少し変形して、このような、入力と出力の形にして、解いてみたいと思います。
 まずこちらの1自由度振動モデル。
普通に数式で表すと下記のように運動方程式で書くことができます。
$$\begin{align*} m\ddot{x}+c\dot{x}+kx&amp;amp;=f \
\end{align*}$$
ここで、
$$\begin{align*} f=c\dot{y}+ky&amp;amp; \
\end{align*}$$
です。
こちらのモデルを解くMatlabコードは、前回のコードを少し変更して、下記のようになります。
% パラメータの定義 m = 1; % 質点 [kg] ※適切な値を設定してください k = 1; % バネのばね定数 [N/m] ※適切な値を設定してください c = 1; % ダンパーの減衰係数 [N.s/m] ※適切な値を設定してください % 微分方程式の定義 A = [0 1; -k/m -c/m]; B = [0; 1/m]; C = [1 0]; D = 0; % 状態空間モデルの作成 sys = ss(A, B, C, D); % 応答のシミュレーション t = linspace(0, 50, 1000); % シミュレーション時間 [s] %外力fをシステムに入力 Y=1; w0=sqrt(k/m); f = c*Y*w0*cos(w0*t)+k*Y * sin(w0*t); % 外力の時系列 y = lsim(sys, f, t); % 結果のプロット figure; plot(t, y); xlabel(&amp;#39;Time [s]&amp;#39;); ylabel(&amp;#39;Displacement [m]&amp;#39;); title(&amp;#39;Response of the physical model&amp;#39;); grid on; 実行すると、下記のようなグラフが得られたのではないでしょうか。  このようにM K Cのシステムにfという入力を与えた時の出力xを求めることが簡単にかつ、システマチックにできるのが、現代制御の魅力です。</description>
    </item>
    
    <item>
      <title>1自由度振動運動方程式の状態空間表現</title>
      <link>https://dshiroki.com/engineering/20231031/</link>
      <pubDate>Tue, 31 Oct 2023 21:03:29 +0900</pubDate>
      
      <guid>https://dshiroki.com/engineering/20231031/</guid>
      <description>1自由度振動運動方程式 こんにちは、データサイエンティストひろき🐶です。
前回こちらのブログで紹介した物理モデルのMatlabコード
実は、状態空間表現というとてもオシャレな解き方をしています。
今回はその状態空間表現について、少し深くみていきたいと思います。
そこで今回は、
状態空間表現とは 1自由度振動モデルを状態空間表現で表すメリット   を紹介します。  まずこちらの1自由度振動モデル。
普通に数式で表すと下記のように運動方程式で書くことができます。
$$\begin{align*} m\ddot{x}+c\dot{x}+kx&amp;amp;=f \
\end{align*}$$
でも前回紹介したMatlabコードでは、
% 微分方程式の定義 A = [0 1; -k/m -c/m]; B = [0; 1/m]; C = [1 0]; D = 0; % 状態空間モデルの作成 sys = ss(A, B, C, D); となっており、何やら様子が違います。
これは状態空間表現といって、非常にオシャレな、有意義な表現方法で
運動方程式を変形して、解いてます。
実は、
$$\begin{align*} m\ddot{x}+c\dot{x}+kx&amp;amp;=f \
\end{align*}$$
この方程式を
$$\begin{pmatrix} \dot{x} \\
\ddot{x} \\
\end{pmatrix} \begin{align*} &amp;amp;= \end{align*} \begin{pmatrix} 0 &amp;amp; 1 \\
-k/m &amp;amp; -c/m \\</description>
    </item>
    
    <item>
      <title>ChatGPT x 手書きの物理モデリングをプログラミング</title>
      <link>https://dshiroki.com/engineering/20231029/</link>
      <pubDate>Sun, 29 Oct 2023 17:04:46 +0900</pubDate>
      
      <guid>https://dshiroki.com/engineering/20231029/</guid>
      <description>ChatGPTを使って物理モデリングをプログラミング 理系女子必見！学習の幅が広がる！とても便利なChatGPTの使い方！
こんにちは、データサイエンティストひろき🐶です。 最近ChatGPTに目が備わったと話題ですね！
例えば下記Youtubeでも紹介されています。
  早速応用してみたい！
例えば、工学系の大学1年生ではじめに習う物理モデルといっても過言ではない、代表的なモデルは下記、1自由度振動モデルではないでしょうか。
そんな物理モデルを自由に描いて、それを数値計算出来たらいいな。
そんな夢を実現してくれるのが、ChatGPTです！
そこで今回は、
ChatGPTを使って手書きの1自由度振動モデルをプログラミングする方法   を紹介します。 物理モデルとして、下記1自由度振動モデルを考えます。  まずChatGPTに上記モデルのスクショをペースト。
そして、「この物理モデルを解くMatlabコードを教えて〜」
と入力してみてください。
そうすると、下記コードが返ってきます。
% パラメータの定義 m = 1; % 質点 [kg] ※適切な値を設定してください k = 1; % バネのばね定数 [N/m] ※適切な値を設定してください c = 1; % ダンパーの減衰係数 [N.s/m] ※適切な値を設定してください f = 1; % 外力 [N] ※適切な値や関数を設定してください % 微分方程式の定義 A = [0 1; -k/m -c/m]; B = [0; 1/m]; C = [1 0]; D = 0; % 状態空間モデルの作成 sys = ss(A, B, C, D); % 応答のシミュレーション t = linspace(0, 10, 1000); % シミュレーション時間 [s] u = f * ones(size(t)); % 外力の時系列 y = lsim(sys, u, t); % 結果のプロット figure; plot(t, y); xlabel(&amp;#39;Time [s]&amp;#39;); ylabel(&amp;#39;Displacement [m]&amp;#39;); title(&amp;#39;Response of the physical model&amp;#39;); grid on;  本当に動くのか？？？</description>
    </item>
    
    <item>
      <title>HYPER SBI2 x Mac キタ~!</title>
      <link>https://dshiroki.com/finance/20231001/</link>
      <pubDate>Sun, 01 Oct 2023 21:50:52 +0900</pubDate>
      
      <guid>https://dshiroki.com/finance/20231001/</guid>
      <description>MacでHYPER SBI2が使える！ みなさまこんにちは。データサイエンティストのヒロキです。
データサイエンティストにとってデータは命の源です。
投資の世界に置いて、データとは株価や経済指標の値です。
そんなデータを自由にダウンロードできたらいいな。
そう思ってSBI証券に数年前登録しました。
そしたらなんと、私の愛用マシーンMacでは使えないではないですか・・・。
あきらめて、なんとかMacで株価データを取り扱える方法はないものかと試行錯誤し得た答えが、 こちらの記事で紹介したYahoo Financeからダウンロードする方法でした。
しかし遂に、MacでもSBI証券のトレーディングツールHYPER SBI2がダウンロード可能に!!
きた〜〜〜〜！！
早速ダウンロードして使ってみたい！
そこで今回のブログでは、
・HYPER SBI2をMacへインストールする方法 ・HYPER SBI2を利用して株価データをダウンロードする方法   を解説します。 HYPER SBI2をMacへインストールする方法 まずはHYPER SBI2のホームページからMac用ダウンロードボタンを押して、インストーラーをダウンロード。
次にインストーラーを開いたら、インストール画面が立ち上がるので、SBI証券のログインとパスワードを入力し、次へと進んでいきます。
最後に、利用規約を確認しOKボタンを押せば、ダウンロード完了。
稲妻マークのアイコンのアプリがメニューバーに現れます。
ポチッとして立ち上げてください。
これにて完了です。
HYPER SBI2を利用して株価データをダウンロードする方法 次に、株価データをダウンロードしてみます。 方法はこちらで紹介されている通りで、メインバーの中央にあるチャートボタンをクリック。
 デフォルトでNYダウ平均株価が選択されているので、今回はそのデータをダウンロードしてみます。 右上にある時系列ボタンをクリック。
 下記画面で区間を選んで、中央の参照ボタンをクリック。
希望のデータが確認できれば、CSVエクスポートをクリックするとデータをCSV形式でダウンロードできます。
 結論 今回はHYPER SBI2で株価データをダウンロードする方法を紹介しました。
ですが、2つ欠点があります。
1つ目は、月足と週足と日足の3パターンしかダウンロードできないこと。
時足や秒足もダウンロードできれば直良でしたが。
2つ目は、ダウンロード作業は手作業であること。
複数データをダウンロードしようとすると、沢山クリックをしなければなりません。
すなはち、手前味噌ですが、 フリーでダウンロードできるMatlabを使ってYahoo Financeから株価データをダウンロードする方法が結局ベストです。
今日はこの辺で、Love&amp;amp;Respect! ヒロキ🐶</description>
    </item>
    
    <item>
      <title>【MatlabでFX】ドル高が止まらない！ドルと相関が高いのは？！</title>
      <link>https://dshiroki.com/finance/20230905/</link>
      <pubDate>Tue, 05 Sep 2023 22:32:58 +0900</pubDate>
      
      <guid>https://dshiroki.com/finance/20230905/</guid>
      <description>最近、物価上昇に続いて、ドル高も止まらないですね〜！
本当にどこまで上がるんだろう。。。
皆様こんにちは。データサイエンティストのヒロキです。
今回このブログでは、ドル円と相関が高いと言われている日米金利差の相関係数を計算し、グラフでその関係性を可視化したいと思います。
下記のようなスキルが身につきます。
・ドル円と日米金利差のデータをYahoo financeやFREDからダウンロードする方法 ・ドル円と日米金利差の相関係数を計算する方法 ・ドル円と日米金利差のデータをグラフで可視化する方法   実際に手を動かすことで、ニュース記事を見ているよりしみじみできますし、
期間などを変更して、計算したりグラフを描いたりすることができるのでおすすめです。 一緒に手を動かしてやってみましょう^^
ドル円と日米金利差のデータをダウンロード Yahoo FinaceやFREDからデータをダウンロードするやり方は、過去の記事
Yahoo Financeからデータをダウンロードする方法
や FREDからダウンロードする方法
をご覧ください。 ドル円と日米金利差のデータをYahoo financeやFREDからダウンロードするには下記コードを実行すれば大丈夫です。
%入力パラメータです。取得したい時系列データの名前と始まりと終わりの日付を指定します。 start_date = &amp;#39;9/5/2020&amp;#39;; %mm/dd/yyy beginning of date range for historical data end_date = &amp;#39;9/5/2023&amp;#39;; %mm/dd/yyy ending of date range for historical data %fredDataへseriesで指定した経済指標のデータを格納します。（コピペするだけでOK) US10 = get_fred_data(start_date, end_date, &amp;#39;DGS10&amp;#39;);%US10年国債 JP10 = get_fred_data(start_date, end_date, &amp;#39;IRLTLT01JPM156N&amp;#39;);%JPN10年国債 %YahooFInanceからデータを取得 USD = hist_stock_data(&amp;#39;05092020&amp;#39;,&amp;#39;05092023&amp;#39;,append(&amp;#39;JPY=X&amp;#39;)); これでデータが取得できました。
ドル円と日米金利差の相関係数を計算 相関係数とは何か？という方は過去の記事(相関係数とは？)をご覧ください。
今回はドル円と日米金利差の相関係数を計算してみたいと思います。
下記コードを実行します。
%日本とアメリカの金利さを計算するためのマージ t1=US10; t2=JP10; % [t1 t2] = synchronize(t1,t2,&amp;#39;union&amp;#39;); TT = synchronize(t1,t2,&amp;#39;union&amp;#39;); % del=t1-t2;%&amp;lt;-これが求めたかった日米長期金利差 del=TT.</description>
    </item>
    
    <item>
      <title>物価上昇！経済指標をグラフで見える化せよ</title>
      <link>https://dshiroki.com/finance/20230903/</link>
      <pubDate>Sun, 03 Sep 2023 20:50:28 +0900</pubDate>
      
      <guid>https://dshiroki.com/finance/20230903/</guid>
      <description>物価上昇に関わる経済指標をグラフで見える化 最近、物価上昇が止まらないですね〜！
本当にどこまで上がるんだろう。。。
お久しぶりです。データサイエンティストのヒロキです。
今回このブログでは、
・雇用者数やCPIなど経済指標をFREDからMatlabコードを使ってダウンロードする方法 ・Matlabコードでデータを比較する方法 ・バフェット太郎さんのYoutubeをデータでしみじみすること   を解説したいと思います。
こんなグラフが得られます。
 物価上昇とは？ 物価上昇（＝物の価値が上りお金の価値が下がること）が続けば市場に出回るお金の量を減らしてお金の価値をあげようと米政府は長期金利を上昇させます。
そしてそれはマルチプル・コントラクション（PERの低下）を招き、株価の下落材料になります。
一方、物価上昇（＝物の価値が上りお金の価値が下がること）が落ち着けば米政府は利上げを行わないでしょう。
そしてそれはマルチプル・コントラクションと逆のPERの上昇を招き、株価の上昇材料になります。
詳細は、私がいつも参考にしているバフェット太郎さんのYoutubeチャンネルをぜひご覧ください。
  そして、バフェット太郎さんも、どちらに転ぶのか、現時点判断することはできないため、「今後も経済データを注意深く観察するように」と行ってます。
物価上昇に関わる経済指標データとは？ 物価上昇に関わるる経済指標データとは動画の中でも何度も登場している下記のような経済指標です。
以下　経済指標日本語名：FRED呼び名　の順で記載。
・雇用者数：All Employees, Total Nonfarm (PAYEMS)
・失業率：Unemployment Rate (UNRATE)
・労働参加率：Labor Force Participation Rate (CIVPART)
・平均時給： Average Hourly Earnings of All Employees, Total Private (CES0500000003)
・CPI(消費者物価指数)：Consumer Price Index for All Urban Consumers: All Items in U.S. City Average (CPIAUCSL)
・JOLT(米雇用動態調査)：Job Openings: Total Nonfarm (JTSJOL)
・ガソリン価格：US Regular Conventional Gas Price (GASREGCOVW)</description>
    </item>
    
    <item>
      <title>株価の時系列データをフーリエ解析してみた⑤</title>
      <link>https://dshiroki.com/finance/bandpass/</link>
      <pubDate>Wed, 07 Dec 2022 10:16:50 +0900</pubDate>
      
      <guid>https://dshiroki.com/finance/bandpass/</guid>
      <description>株価の時系列データをフーリエ解析してみた⑤ 〜周期性の把握〜 ジュワーっとステーキ「俺のターン」
  夜に見たら飯テロですね🥩
はい、こんばんは。データサイエンティスト、ひろきです🐶
よくクリスマスシーズンにはおもちゃメーカーの株が上がる、夏には飲料メーカーの株価が上がるなど言われていますが、本当なのでしょうか？データで検証したくなったりしませんか？
前回ご紹介したピリオドグラムを活用して周期性を発見し、株価時系列データの周期性、季節性をわかりやすく表示する方法をご紹介したいと思います。
なんのこっちゃ？
って思われている方々いらっしゃるかと思います。
要するに、こんな感じで株価のデータをスムージングしたような、周期性の読みやすいグラフを作ります。
 さて今回のやることを技術的に書くと、
ピリオドグラムで得られた周期情報を抜き出すようなフィルタを作る そのフィルタを元の時系列データに掛け合わせて、特定の周期のグラフを抽出する   です。 初めに、リンクをクリックいただき、一票いただけると幸いです✨
にほんブログ村  にほんブログ村 優しく解説していきますので、ご安心ください🙂
それではやっていきましょ＾＾
Matlabコード それでは全体のコードを紹介します。 下記の通り非常にシンプルなコードで計算できます。
%株価データをダウンロード data = hist_stock_data(&amp;#39;24102002&amp;#39;,&amp;#39;24112022&amp;#39;,append(&amp;#39;6752.T&amp;#39;)); %時間データと終値を変数yとtに格納 y=data.Close; t=data.Date; %欠損データがある場合は補間してYYにデータを格納 [Y,TF] = fillmissing(y,&amp;#39;linear&amp;#39;,&amp;#39;SamplePoints&amp;#39;,t); %トレンド除去 T=(1:length(Y))&amp;#39;; p= polyfit(T,Y,1); YYfit= polyval(p,T); dYY=detrend(Y); %トレンド除去後の時系列データ figure plot(t,Y) hold on plot(t,YYfit) hold on plot(t,dYY) %1年を245日（営業日）としてサンプリング周波数を245回/年と定義 Fs=245; %欠損データを補った株価データYYをサンプリング周波数Fsでフーリエ変換し、パワースペクトル密度pxxと周波数fを出力 [pxx,f] = periodogram(dYY,rectwin(length(y)),length(y),Fs); figure %横軸：周波数[回/年]、縦軸：株価の大きさとしてグラフ(ピリオドグラム)を作成 plot(f,10*log10(pxx)) xlabel(&amp;#39;Cycles/Year&amp;#39;) ylabel(&amp;#39;dB / (Cycles/Year)&amp;#39;) title(&amp;#39;Periodogram&amp;#39;) xlim([0 3]) ylim([10 80]) %0.</description>
    </item>
    
    <item>
      <title>株価の時系列データをフーリエ解析してみた④</title>
      <link>https://dshiroki.com/finance/detrend/</link>
      <pubDate>Sat, 03 Dec 2022 10:16:50 +0900</pubDate>
      
      <guid>https://dshiroki.com/finance/detrend/</guid>
      <description>株価の時系列データをフーリエ解析してみた④ 〜トレンド除去〜 皆様、寒くなってきましたねー☃️ こんな時はあったかい家でお鍋でも食べてあったまりましょ🍲
こんにちは、データサイエンティストひろき🐶です。
株価のデータを見ていて、下記のような操作）トレンド成分の除去をしたくなったことありませんか？ 周期性をざっくり把握するのに便利な操作です。 Matlabではたった1行でトレンド除去ができるのでとても便利です。 https://jp.mathworks.com/help/matlab/ref/detrend.html  そこで今回のブログはズバリ
たった１行でトレンド除去する方法   についでです。 初めに、リンクをクリックいただき、一票いただけると幸いです✨
にほんブログ村  にほんブログ村 優しく解説していきますので、ご安心ください🙂
その一行とは、ズバリ、こちらです！
D = detrend(Y); そう、Yに元データを入れるだけで、トレンド除去したデータDが帰ってきます。 すごく直感的で素敵💖
具体例 それでは具体的に株価データを使って見ていきましょう。 まずは株価データをダウンロードします。今回は日経平均のデータを使います。 Yahoo financeから株価データをダウンロードする方法はこちらの前回の記事を参考にしてください。
Matlabコード それでは全体のコードを紹介します。 下記の通り非常にシンプルなコードで計算できます。
%株価データをダウンロード data = hist_stock_data(&amp;#39;09112010&amp;#39;,&amp;#39;09112021&amp;#39;,&amp;#39;^N225&amp;#39;); %時間データと終値を変数yとtに格納 y=data.Close; t=data.Date; %欠損データがある場合は補間してYにデータを格納 [Y,TF] = fillmissing(y,&amp;#39;linear&amp;#39;,&amp;#39;SamplePoints&amp;#39;,t); %Yからトレンド（1次成分）を除去したデータ D = detrend(Y); %グラフの作成 plot(t,Y) hold on plot(t,D) hold on plot(t,y-D,&amp;#34;:k&amp;#34;) legend(&amp;#34;Input Data&amp;#34;,&amp;#34;Detrended Data&amp;#34;,&amp;#34;Trend&amp;#34;,&amp;#34;Location&amp;#34;,&amp;#34;northwest&amp;#34;) ylabel(&amp;#39;株価 [Yen]&amp;#39;) 出てくるグラフはこちらです。   トレンド成分が除去されて、周期が見やすくなりましたね😉
最後にトレンド除去に関する関連Youtubeをご紹介しておきます。 機械学習の前処理としてもこの関数が利用できることがわかります^^   それでは風邪に気をつけて、あったかくして、お過ごしください🍵🌟</description>
    </item>
    
    <item>
      <title>株価の時系列データをフーリエ解析してみた③</title>
      <link>https://dshiroki.com/finance/correlationcoefficient/</link>
      <pubDate>Thu, 21 Jul 2022 10:16:50 +0900</pubDate>
      
      <guid>https://dshiroki.com/finance/correlationcoefficient/</guid>
      <description>株価の時系列データをフーリエ解析してみた③ 〜相関係数〜 生徒：「2つの銘柄の株価データを比較して売り買いのタイミングを分析したいです」
先生：「そんな時は相関係数を求めればいいのだよ」
生徒：「いきなり言われてもそもそも相関係数って何？」
という方いらっしゃいませんでしょうか？
そこで、この記事では、
・相関係数って何かわからない ・大学で相関関係について学んだことはあるけど、あまり覚えていない、復習したい ・2つのデータを比較してどれくらい似ているかを知りたいけどその手法がわからない ・相関関係を計算できるようになりたい   という方のために、相関係数を手計算で計算してみることを試みます。 本記事を読むことで、相関係数とは何か？どうやって計算するのか？がわかるようになります。　初めに、リンクをクリックいただき、一票いただけると幸いです✨
にほんブログ村  にほんブログ村 優しく解説していきますので、ご安心ください🙂
相関係数って何？ 相関係数ってなんですか？2つのデータがどれくらい似ているか？を表しています。
似ているというのは文字通り顔がそっくりの時に使われるあの言葉と同じです。
マークザッカーバーグとサバンナの高橋茂雄も相関係数が高そうです😁
広瀬すずさんと土屋太鳳さんはどうでしょうかね？
ふむふむ👀
相関係数は高そうです😍   どうやるの？〜手計算で相関係数を計算してみる〜 相関係数rの定義式は下記で表されます。
$$\begin{align*} r&amp;amp;=\frac{\sum (x_{i}-\bar{x})(y_{i}-\bar{y})}{\sqrt{\sum (x_{i}-\bar{x})^2}\sqrt{\sum (y_{i}-\bar{y})^2}} \\
&amp;amp;=\frac{\sum (x_{i}-\bar{x})(y_{i}-\bar{y})/n}{\sqrt{\frac{\sum(x_{i}-\bar{x})^2}{n}}\sqrt{\frac{\sum(y_{i}-\bar{y})^2}{n}}} \\
&amp;amp;=\frac{V_{xy}}{\sigma_{x}\sigma_{y}} \\
\end{align*}$$
$$\begin{align*} V_{xy}&amp;amp;: xとyの共分散 \\
\sigma_{x}&amp;amp;: xの標準偏差 \\
\sigma_{y}&amp;amp;: yの標準偏差 \\
\end{align*}$$
なんのこっちゃ？と感じられると思うので、順を追って説明していきます。
相関係数は下記4ステップで計算できます。
 平均を計算する 標準偏差を計算する xとyの共分散(偏差の積の平均)を計算する 相関係数を計算する  具体的にxとyに下記データが入力されているとして計算してみます。
電卓で計算できるので、順を追って確かめてみてください。
$$\begin{align*} x&amp;amp;=(1,2,3,4,5) \\
y&amp;amp;=(2,8,6,4,10) \end{align*}$$
1. 平均を計算する $$\begin{align*} \bar{x}&amp;amp;=\frac{1+2+3+4+5}{5} =3 \\</description>
    </item>
    
    <item>
      <title>株価の時系列データをフーリエ解析してみた②</title>
      <link>https://dshiroki.com/finance/spectrumanalysis/</link>
      <pubDate>Wed, 20 Jul 2022 10:16:50 +0900</pubDate>
      
      <guid>https://dshiroki.com/finance/spectrumanalysis/</guid>
      <description>株価の時系列データをフーリエ解析してみた② 〜スペクトル分析〜 こんにちは、データサイエンティスト・ヒロキです。 株価の売り買いのタイミングなどを検討する基本的な手法を学びたい。でも、テクニカル分析の本などを見てみても、応用の事ばかり書いていてなんだか難しく感じる。もう少し時系列データの基本的なことを学びたい。とお困りの方いらっしゃったりしませんでしょうか？私は約半年くらい困っていました。
そこでこの記事では、
・テクニカル分析などの本を目にしたことあるが、もう少し基本的なことを学びたい ・どれくらいの周期で株価が変動しているか知りたい ・大学の教科書でスペクトル分析が出てきたけど、難しくてよくわからない   という方のために、株価などの時系列データはどれくらいの期間と大きさで変動しているか？を分析する代表的な手法「スペクトル分析」を解説していきたいと思います。
時系列データの3つの基本パターン（直流成分・周期変動・不規則変動）の一つ、周期変動に着目して、データの中にどれくらいの周期変動成分が潜んでいるのか？を求める手法の一つであるスペクトル分析を知ることで、株価の動くタイミングや季節変動の有無など様々なことを検討する材料の一つになるかと思います。またこの手法はもともと工学の分野で広く用いられている基本的な手法ですので、工学部の学生など初学者も参考になるかとももいます。
初めに、リンクをクリックいただき、一票いただけると幸いです✨
にほんブログ村  にほんブログ村 優しく解説していきますので、ご安心ください🙂
スペクトル分析 株価はどれくらいの期間でどれくらいの大きさで変動しているか？
下記2ステップでスペクトル分析をし、どれくらいの周期で変動しているか？を確認していきたいと思います。Matlabコードを使って具体例も提示していきます。 30日間の無料トライアルもありますので、とりあえず試してみたい方は こちら からインストールお願いします。
それでは、次の2つのステップで説明します。
  スペクトル分析ってなに？
イメージで表すとこんな感じです。
  時系列データはどのくらいの周期の波で構成されているのか、またその大きさはどれくらい大きい波なのか？が一眼でわかるグラフ(ピリオドグラムと言います）
いつぐらいに波がピークを迎えるのかという位相の情報はピリオドグラムからはわかりません。タイミングが知りたければ前回の記事で紹介したフーリエ分析をして時系列データで波の様子を観察すると直感的にもわかりやすいかと思います。このピリオドグラムのメリットは一眼で大きさと周期がわかるところです。
  どうやるの？
このコードをコピペするだけです。
(下記コードを実行するには&amp;quot;hist_stock_data&amp;quot;ファンクションプログラムをダウンロードしておく必要があります。まだダウンロードしていない方は、まずはこちらの記事を読んでダウンロードお願いします。)
%株価データをダウンロード data = hist_stock_data(&amp;#39;09112011&amp;#39;,&amp;#39;09112021&amp;#39;,&amp;#39;2502.T&amp;#39;); %時間データと終値を変数yとtに格納 y=data.Close; t=data.Date; %欠損データがある場合は補間してYYにデータを格納 [YY,TF] = fillmissing(y,&amp;#39;linear&amp;#39;,&amp;#39;SamplePoints&amp;#39;,t); %1年を245日（営業日）としてサンプリング周波数を245回/年と定義 Fs=245; %欠損データを補った株価データYYをサンプリング周波数Fsでフーリエ変換し、パワースペクトル密度pxxと周波数fを出力 [pxx,f] = periodogram(YY,rectwin(length(y)),length(y),Fs); %横軸：周波数[回/年]、縦軸：株価の大きさとしてグラフ(ピリオドグラム)を作成 plot(f,10*log10(pxx)) xlabel(&amp;#39;Cycles/Year&amp;#39;) ylabel(&amp;#39;dB / (Cycles/Year)&amp;#39;) title(&amp;#39;Periodogram&amp;#39;) xlim([0 10])   一行目の株価ティッカーシンボル&amp;quot;2502.T&amp;quot;を変えると他の銘柄にも適用できます。
上記例ではアサヒグループホールディングスの株価データを分析しています。
お疲れ様でした。
今後 次回は2つのデータの関係性を表す相関係数について、解説していきたいと思います。</description>
    </item>
    
    <item>
      <title>株価の時系列データをフーリエ解析してみた①</title>
      <link>https://dshiroki.com/finance/timeanalysisbasic/</link>
      <pubDate>Tue, 09 Nov 2021 10:16:50 +0900</pubDate>
      
      <guid>https://dshiroki.com/finance/timeanalysisbasic/</guid>
      <description>株価の時系列データをフーリエ解析してみた①　〜フーリエ変換〜 こんにちは、データサイエンティスト・ヒロキです。
株価データを自分で分析し、将来の動向などを予測したいけど、テクニカル分析の本などを見てみても、応用の事ばかり書いていてなんだか難しく感じる。もう少し時系列データの基本的なことを学びたい。とお困りの方いらっしゃったりしませんでしょうか？私もそうでした。
そこでこの記事では、
・株価データの分析をしたいけど、時系列分析ってなんか難しそう ・テクニカル分析などの本を目にしたことあるが、もう少し基本的なことを学びたい ・フーリエ？聞いたことあるけどなんか難しそう   という方のために、時系列データの3つの基本パターンとフーリエ解析の基礎を解説していきたいと思います。　初めに、リンクをクリックいただき、一票いただけると幸いです✨
にほんブログ村  にほんブログ村 優しく解説していきますので、ご安心ください🙂
時系列データの3つの基本パターン  直流成分（平均値） 周期変動（sin波やcos波） 不規則変動（ランダムノイズ）  時系列データは上記3つのパターンの組み合わせでできていると考えられます。  なんとなく、足し合わせると株価の変動と似ているのがわかるかと思います。
まずは、時系列データというのは、直流成分と周期変動と不規則変動の3種類から構成されているんだな〜と理解できれば大丈夫です。
時系列データを直流成分と周期変動に分解することを(離散)フーリエ変換と言います。
詳しくはヨビノリさんのYouTubeをご覧ください。   具体例 Matlabコードを使って具体例も提示していきます。 このblogで紹介しているプログラムを実行するにはMatlabに加えてMatlabから提供されているCurve Fitting Toolboxが必要です。
“Matlab持ってないよ”という方も無料でMatlabを30日利用できるトライアルがありますのでご安心ください。またCurve Fitting Toolboxも無料のトライアル版が提供されていますのでご安心ください。
こちら からインストールお願いします。
さて、いきなりですが、下記グラフを重ね合わせると何になるでしょうか？
  答えは日経平均データを3項までのフーリエ級数展開モデルで近似したグラフです。 実際の日経平均のデータと比較したグラフをつくりました。   このように分解することで、どのくらいの大きさの周期がどのタイミングでやってくるのかの目安を知ることができます。もちろんこれだけでは投資判断できませんが経済の動向や企業分析などファンダメンタルな考察と組み合わせることで、判断の手助けになるかもしれません。
コード 上記具体例に使用したMatlabコードを示します。
事前にyahoofinanceの時系列データにアクセスできるプログラムファイルをこちら からダウンロードし、作業フォルダに保存しておいてください。
%日経平均のデータを入手 NIKKEI = hist_stock_data(&amp;#39;09112011&amp;#39;,&amp;#39;09112021&amp;#39;,&amp;#39;^N225&amp;#39;); %日付データ(グラフの横軸)をyearという変数に格納 year=NIKKEI.Date; L=length(year); x=[1:L]&amp;#39;; %欠損データを補完し、YYに格納 [YY,TF] = fillmissing(NIKKEI.Close,&amp;#39;linear&amp;#39;,&amp;#39;SamplePoints&amp;#39;,year); %3項までのフーリエ級数展開でフィッティング(curve fitting toolboxが必要) f2 = fit(x,YY,&amp;#39;fourier3&amp;#39;) %フーリエ係数を変数に格納 a0=f2.</description>
    </item>
    
    <item>
      <title>MatlabコードでFREDから経済指標データを入手する方法</title>
      <link>https://dshiroki.com/finance/getfreddata/</link>
      <pubDate>Thu, 04 Nov 2021 16:03:53 +0900</pubDate>
      
      <guid>https://dshiroki.com/finance/getfreddata/</guid>
      <description>FREDから経済指標データを入手する方法 こんにちは、データサイエンティスト・ヒロキです。 投資に慣れてきたので株価データと経済指標データを重ね合わせて自分で将来の動向などを予測したいけどどうすればいいの？とお困りの方いらっしゃったりしませんでしょうか？私は約半年くらい困っていました。
そこでこの記事では、
・株と経済指標を比較したいときに同じグラフに表示できないから困っている。 ・GDPやFFレートなどの経済指標の時系列データをダウンロードしたい。   という方のために、
経済指標が閲覧できるサイトFREDからMatlabコードを使って株価データを取得する方法を解説します。
このblogで紹介しているプログラムを実行するにはMatlabに加えてMatlabから提供されているDatafeed Toolboxが必要です。
“Matlab持ってないよ”という方も無料でMatlabを30日利用できるトライアルがありますのでご安心ください。またDatafeed Toolboxも無料のトライアル版が提供されていますのでご安心ください。
プログラム未経験なんだけど（汗という方も、本ブログのコードをコピペでOKです。
下記3ステップで丁寧に解説していきますのでご安心ください😉
 Datafeed Toodboxをインストールし、Matlabを起動 コードをコピペ 実行  初めに、リンクをクリックいただき、一票いただけると幸いです✨
にほんブログ村  にほんブログ村 優しく解説していきますので、ご安心ください🙂
1. Datafeed Toodboxをインストールし、Matlabを起動 まず初めに、Datafeed Toolboxもインストールをしてください。
とりあえず試したいという方には無料の評価版が用意されています。
インストールが完了したら、Matlabを立ち上げてください。もしPCにインストールされていない場合は、 30日間の無料トライアルもありますので、とりあえず試してみたい方は こちら からMatlabを先にインストールし、続いてDatafeed Toolboxをインストールお願いします。
2. コードをコピペ Matlabの新規スクリプトを立ち上げて、下記コードをコピーペーストしてください。  %入力パラメータです。取得したい時系列データの名前と始まりと終わりの日付を指定します。 series = &amp;#39;GDPC1&amp;#39;; %GDP delta=4 start_date = &amp;#39;10/24/1950&amp;#39;; %mm/dd/yyy beginning of date range for historical data end_date = &amp;#39;10/24/2021&amp;#39;; %mm/dd/yyy ending of date range for historical data %fredDataへseriesで指定した経済指標のデータを格納します。（コピペするだけでOK) fredData = get_fred_data(start_date, end_date, series); %ここから先はfredのwebサイトからデータを入手する関数（コピペするだけでOK) function fredData = get_fred_data(startdate, enddate, series) url = &amp;#39;https://fred.</description>
    </item>
    
    <item>
      <title>1行のMatlabコードでYahoo Financeから株価時系列データを入手する方法</title>
      <link>https://dshiroki.com/finance/getstockdata/</link>
      <pubDate>Sun, 31 Oct 2021 09:15:35 +0900</pubDate>
      
      <guid>https://dshiroki.com/finance/getstockdata/</guid>
      <description>Yahoo Financeから株価データを入手する方法 こんにちは、データサイエンティスト・ヒロキです。
投資に慣れてきたので株価データをダウンロードして自分で分析まで行いたいけど、株価データってどこから入手すればいいの？とお困りの方もいらっしゃるかと思います。私もそうでした。
そこでこの記事では、
・株価データのダウンロード先がなかなか見つからない。 ・ダウンロードが有料だったり、手作業での銘柄入力とマウス操作が面倒。 ・株と経済指標を比較したいときに同じグラフに表示できないから困っている。   という方のために、
Matlabコードを使ってYahoo Financeから株価データを取得する方法を解説します。
“Matlab持ってないよ”という方も無料でMatlabを30日利用できるトライアルがありますのでご安心ください。
プログラム未経験なんだけど（汗という方も、本ブログのコードをコピペでOKです。
下記3ステップで丁寧に解説していきますのでご安心ください😉
 Matlabを起動 プログラムをダウンロード 実行  初めに、リンクをクリックいただき、一票いただけると幸いです✨
にほんブログ村  にほんブログ村 優しく解説していきますので、ご安心ください🙂
1. Matlabを起動 まずMatlabを立ち上げてください。もしPCにインストールされていない場合は、 30日間の無料トライアルもありますので、とりあえず試してみたい方は こちら からインストールお願いします。
2. プログラムをダウンロード 下記リンクから時系列データにアクセスできるプログラムファイルを こちら からダウンロードし、作業フォルダに保存します。
（このように有益なサンプルコードが無料で公開されているのもMatlabの魅力です❤️）
3. 実行 Matlabの新規スクリプトを立ち上げて、下記コードをコピーペーストしてください。  Data = hist_stock_data(&amp;#39;24101950&amp;#39;,&amp;#39;24102021&amp;#39;,append(&amp;#39;^GSPC&amp;#39;)); そして実行ボタンを押すとS&amp;amp;P500の1950/10/24~2021/10/24までの時系列データを得られます😀
 Tickerシンボルの^GSPCを他のシンボルに変えるだけでyahoofinanceで閲覧できる全ての銘柄データを取得できます👍


具体例 優しく丁寧で温かみのある解説と、非常によくまとまっていて「はっ」と目が覚めるような情報をいただける、バフェット太郎さんのYouTubeから具体例を拝借したいと思います☕️
今後ブームが来ると思われる金と金鉱株のETFのデータを実際に入手します。
   金に対して先行性がある金鉱株のトレンドが、強気に転換した可能性が高まっていることから、金も近く強気トレンドに転換する公算が大きいです。
 金と金鉱株のETFのデータを入手してグラフで比較するには下記コードを実行します👍
%YahooFInanceから2011/10/20~2021/10/30までのデータを取得 GLD = hist_stock_data(&amp;#39;20102011&amp;#39;,&amp;#39;30102021&amp;#39;,append(&amp;#39;GLD&amp;#39;)); %金ETF(GLD) GDX = hist_stock_data(&amp;#39;20102011&amp;#39;,&amp;#39;30102021&amp;#39;,append(&amp;#39;GDX&amp;#39;)); %金鉱株ETF(GDX) % グラフの作成 yyaxis left plot(GLD.</description>
    </item>
    
    <item>
      <title>Privacy</title>
      <link>https://dshiroki.com/info/privacy/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://dshiroki.com/info/privacy/</guid>
      <description>プライバシーポリシー 当サイトでは、第三者配信の広告サービス（Googleアドセンス、Amazonアソシエイト）を利用しています。
このような広告配信事業者は、ユーザーの興味に応じた商品やサービスの広告を表示するため、当サイトや他サイトへのアクセスに関する情報 『Cookie』(氏名、住所、メール アドレス、電話番号は含まれません) を使用することがあります。
またGoogleアドセンスに関して、このプロセスの詳細やこのような情報が広告配信事業者に使用されないようにする方法については、こちらをご覧ください。
当サイトが使用しているアクセス解析ツールについて
当サイトでは、Googleによるアクセス解析ツール「Googleアナリティクス」を利用しています。 このGoogleアナリティクスはトラフィックデータの収集のためにCookieを使用しています。
このトラフィックデータは匿名で収集されており、個人を特定するものではありません。
この機能はCookieを無効にすることで収集を拒否することが出来ますので、お使いのブラウザの設定をご確認ください。
この規約に関して、詳しくはこちらをご覧ください。
当サイトへのコメントについて 当サイトでは、スパム・荒らしへの対応として、コメントの際に使用されたIPアドレスを記録しています。
これはブログの標準機能としてサポートされている機能で、スパム・荒らしへの対応以外にこのIPアドレスを使用することはありません。
また、メールアドレスとURLの入力に関しては、任意となっております。
全てのコメントは管理人が事前にその内容を確認し、承認した上での掲載となりますことをあらかじめご了承下さい。
加えて、次に掲げる内容を含むコメントは管理人の裁量によって承認せず、削除する事があります。
・当サイトからのご連絡や業務のご案内やご質問に対する回答
・ご注文いだいた商品を発送する場合
・禁制品の取引に関するものや、他者を害する行為の依頼など、法律によって禁止されている物品、行為の依頼や斡旋などに関するもの。
・その他、公序良俗に反し、または管理人によって承認すべきでないと認められるもの。
免責事項 当サイトは投資の助言あるいは投資の勧誘等を行うものではありません。
当サイトの情報は個人的見解に基づくものであり、その完全性・正確性・有用性に ついて保証するものではありません。
閲覧者が当サイトの情報を直接または間接に利用したことで被ったいかなる損害についても当サイト運営者は一切の責任を負いません。
また、当サイトからリンクされた、当サイト以外のウェブサイトの内容やサービスに関して、当サイトの個人情報の保護についての諸条件は適用されません。
当サイト以外のウェブサイトの内容及び、個人情報の保護に関しても、当サイト管理者は責任を負いません。
当サイトは、アフィリエイトプログラムにより商品をご紹介致しております。
アフィリエイトプログラムとは、商品及びサービスの提供元と業務提携を 結び商品やサービスを紹介するインターネット上のシステムです。
従いまして、当サイトの商品は当サイトが販売している訳ではありません。
お客様ご要望の商 品、お支払い等はリンク先の販売店と直接のお取引となりますので、特定商取引法に基づく表記につきましてはリンク先をご確認頂けますようお願い致します。
商品の価格 商品の詳細 消費税 送料 在庫数等の詳細は時として変わる場合も御座います。
また、返品・返金保証に関しましてもリンク先の販売元が保証するものです。当サイトだけではなくリンク 先のサイトも良くご確認頂けますようお願い致します。
また、当サイトの掲載情報をご利用頂く場合には、お客様のご判断と責任におきましてご利用頂けますようお願い致します。
当サイトでは、一切の責任を負いかねます事ご了承願います。
尚、掲載商品に関するお問合せはリンク先に御座います企業宛までお願い致します。当サイト管理者側ではお答え致しかねます事、ご了承ください。</description>
    </item>
    
  </channel>
</rss>
